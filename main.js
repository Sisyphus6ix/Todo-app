(()=>{"use strict";const e={projects:[],selectedProjectId:void 0},t=()=>{if(void 0!==e.selectedProjectId)return e.projects[e.selectedProjectId]};function c(e){this.title=e}function n(e,t){this.title=e,this.description=t,this.checked=!1}let s=document.getElementsByClassName("taskDiv")[0];const d=(e,t)=>{s.innerText="";for(let c in e.tasks){let n=e.tasks[c],d=document.createElement("div"),i=document.createElement("h5"),l=document.createElement("p"),a=document.createElement("input");l.innerText=n.description,i.innerText=n.title,d.appendChild(i),d.appendChild(l),d.appendChild(a),d.setAttribute("class","taskDetails"),d.setAttribute("data-id",c),i.setAttribute("class","taskTitle"),l.setAttribute("class","taskDescription"),n.checked&&a.setAttribute("checked",n.checked),a.setAttribute("type","checkbox"),a.setAttribute("class","checkbox"),a.setAttribute("data-id",c),a.addEventListener("change",(e=>{t(n,e.target.checked)})),s.appendChild(d)}};let i=document.getElementsByClassName("projectDiv")[0],l=document.getElementsByClassName("rightside-header-title")[0];let a=document.getElementById("projectBtn"),o=document.getElementById("projectSubmitBtn"),r=document.getElementById("taskBtn"),u=document.getElementById("taskSubmitBtn"),m=document.getElementById("clearBtn");a.addEventListener("click",(()=>{document.querySelector("#projectModal").showModal()}));const k=e=>{const t=(c,n)=>{c.checked=n,d(e,t)};d(e,t)};o.addEventListener("click",(()=>{(()=>{let t=document.getElementById("projectName");(t=>{e.projects.push(t)})({title:new c(t.value).title,element:"",tasks:[]}),t.value=""})(),((e,t)=>{i.innerText="";for(let c=0;c<e.length;c++){const n=e[c],s=document.createElement("div");s.setAttribute("data-id",c),s.innerText=n.title,i.appendChild(s),s.addEventListener("click",(()=>{t(n)}))}})(e.projects,(t=>{(t=>{const c=e.projects.findIndex((e=>e===t));e.selectedProjectId=c})(t),((e,t)=>{const c=document.querySelector(".active");c&&c.classList.remove("active");const n=document.querySelector(`[data-id='${e}']`);n&&n.classList.add("active"),l.innerText=t.title})(e.selectedProjectId,t),k(t)}))})),r.addEventListener("click",(()=>{document.querySelector("#taskModal").showModal()})),u.addEventListener("click",(()=>{const e=t();(e=>{let t=document.getElementById("taskName"),c=document.getElementById("taskDescription"),s=new n(t.value,c.value);console.log(s),e.tasks.push(s),t.value="",c.value=""})(e),k(e)})),m.addEventListener("click",(()=>{const e=t();(e=>{const t=e.tasks.filter((e=>e.checked)),c=t.map((t=>e.tasks.findIndex((e=>e===t))));c.forEach((t=>{e.tasks.splice(t,1)}))})(e),k(e)}))})();